{% extends 'estate/base.html' %}
{% load static%}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'estate/css/settings.css' %}">
{% endblock %}
{% block content %}

<div class="page-header">
  <div class="container">
    <h1><i class="fas fa-cog"></i> Account & Privacy Settings</h1>
    <p>Manage your account preferences and privacy options</p>
  </div>
</div>

<div class="container settings-container">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      
      <!-- Main Settings Card -->
      <div class="settings-card">
        <form method="POST" action="#">
          {% csrf_token %}

          <!-- Personal Information Section -->
          <div class="settings-section">
            <div class="section-header">
              <i class="fas fa-user"></i>
              <div>
                <h3>Personal Information</h3>
                <span class="readonly-badge">Read Only</span>
              </div>
            </div>

            <div class="form-group">
              <label for="first_name" class="form-label">
                <i class="fas fa-user-circle me-2"></i>First Name
              </label>
              <input type="text" class="form-control" id="first_name" name="first_name" value="{{ user.first_name }}" readonly>
            </div>

            <div class="form-group">
              <label for="last_name" class="form-label">
                <i class="fas fa-user-circle me-2"></i>Last Name
              </label>
              <input type="text" class="form-control" id="last_name" name="last_name" value="{{ user.last_name }}" readonly>
            </div>

            <div class="form-group">
              <label for="email" class="form-label">
                <i class="fas fa-envelope me-2"></i>Email Address
              </label>
              <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" readonly>
            </div>

            <div class="info-box">
              <i class="fas fa-info-circle"></i>
              <span>To update your personal information, use the "Update Profile" button below</span>
            </div>
          </div>

          <!-- Communication Preferences Section -->
          <div class="settings-section">
            <div class="section-header">
              <i class="fas fa-bell"></i>
              <div>
                <h3>Communication Preferences</h3>
              </div>
            </div>

            <div class="checkbox-group">
              <div class="custom-checkbox">
                <input class="checkbox-input" type="checkbox" value="1" id="notifyEmail" checked>
                <label class="checkbox-label" for="notifyEmail">
                  <div class="checkbox-icon">
                    <i class="fas fa-envelope"></i>
                  </div>
                  <div class="checkbox-content">
                    <span class="checkbox-title">Email Notifications</span>
                    <span class="checkbox-desc">Receive property updates and news via email</span>
                  </div>
                </label>
              </div>

              <div class="custom-checkbox">
                <input class="checkbox-input" type="checkbox" value="1" id="notifySMS">
                <label class="checkbox-label" for="notifySMS">
                  <div class="checkbox-icon">
                    <i class="fas fa-sms"></i>
                  </div>
                  <div class="checkbox-content">
                    <span class="checkbox-title">SMS Notifications</span>
                    <span class="checkbox-desc">Receive alerts and updates via text message</span>
                  </div>
                </label>
              </div>
            </div>
          </div>

          <!-- Privacy Section -->
          <div class="settings-section">
            <div class="section-header">
              <i class="fas fa-shield-alt"></i>
              <div>
                <h3>Privacy Settings</h3>
              </div>
            </div>

            <div class="switch-group">
              <div class="custom-switch">
                <input class="switch-input" type="checkbox" id="accountVisibility" checked>
                <label class="switch-label" for="accountVisibility">
                  <div class="switch-content">
                    <span class="switch-title">Profile Visibility</span>
                    <span class="switch-desc">Allow property owners to view your profile</span>
                  </div>
                  <div class="switch-toggle"></div>
                </label>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <a href="{% url 'update-profile' user.id %}" class="btn btn-primary">
              <i class="fas fa-user-edit"></i> Update Profile
            </a>
            <a href="{% url 'user-profile' %}" class="btn btn-outline">
              <i class="fas fa-home"></i> Dashboard
            </a>
            <a href="{% url 'change-password' %}" class="btn btn-outline">
              <i class="fas fa-key"></i> Change Password
            </a>
          </div>
        </form>
      </div>

      <!-- Danger Zone Card -->
      <div class="danger-card">
        <div class="danger-header">
          <i class="fas fa-exclamation-triangle"></i>
          <h3>Danger Zone</h3>
        </div>
        <div class="danger-content">
          <div class="danger-info">
            <h4>Delete Account</h4>
            <p>This action is <strong>permanent and irreversible</strong>. All your listings, saved properties, and profile data will be permanently deleted.</p>
          </div>
          <a href="{% url 'delete-account' %}" class="btn btn-danger">
            <i class="fas fa-trash-alt"></i> Delete My Account
          </a>
        </div>
      </div>

    </div>
  </div>
</div>

{% endblock %}